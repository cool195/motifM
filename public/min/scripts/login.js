"use strict";!function(i){function a(){i(".loading").toggleClass("loading-hidden"),setTimeout(function(){i(".loading").toggleClass("loading-open")},25)}function n(){i(".loading").addClass("loading-close"),setTimeout(function(){i(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function s(){a(),i.ajax({url:"/user/logincheck",type:"POST",data:i("#login").serialize()}).done(function(a){a.success?window.location.href=a.redirectUrl:(i(".warning-info").removeClass("off"),i(".warning-info").children("span").html(a.error_msg))}).always(function(){n()})}function t(a){var n="Please enter your email",s="Please enter a valid email address",t=i(".warning-info"),e=a.val(),l=/^[\.a-zA-Z0-9_-]+@([a-z0-9]*[-_]?[a-z0-9]+)+[\.][a-z]{2,3}([\.][a-z]{2})?$/i;return""===e?(t.removeClass("off"),t.children("span").html(n),!1):l.test(e)?(t.addClass("off"),!0):(t.removeClass("off"),t.children("span").html(s),!1)}function e(a){var n="Please enter your password",s="Oops, that's not a match.",t=i(".warning-info"),e=a.val();return""===e||void 0===e?(t.removeClass("off"),t.children("span").html(n),!1):e.length<6||e.length>32?(t.removeClass("off"),t.children("span").html(s),!1):(t.addClass("off"),!0)}i('input[name="email"]').on("keyup blur",function(){var a=i(this).val();""===a||void 0===a?i(this).siblings(".input-clear").addClass("hidden"):i(this).siblings(".input-clear").removeClass("hidden"),t(i(this))?i('div[data-role="submit"]').removeClass("disabled"):i('div[data-role="submit"]').addClass("disabled")}),i('input[name="pw"]').on("keyup blur",function(){e(i(this))?i('div[data-role="submit"]').removeClass("disabled"):i('div[data-role="submit"]').addClass("disabled")}),i('div[data-role="submit"]').on("click",function(){var a=i('input[name="email"]'),n=i('input[name="pw"]');return t(a)&&e(n)?void s():void i('div[data-role="submit"]').addClass("disabled")}),i(".input-clear").on("click",function(a){i(a.target).siblings("input").val(""),i(a.target).siblings(".login-title").removeClass("active"),i(this).addClass("hidden")}),i(".input-show").on("click",function(a){var n=i(a.target).siblings("input");i(a.target).hasClass("off")?(n.attr("type","text"),i(a.target).removeClass("off")):(n.attr("type","password"),i(a.target).addClass("off"))}),i(function(){var a=setTimeout(function(){""!=i(".input-login").val()&&(i(".input-login").siblings(".login-title").addClass("active"),clearTimeout(a))},1e3)}),i(".input-login").on("focus",function(){i(this).siblings(".login-title").addClass("active")}),i(".input-login").on("blur",function(){""===i(this).val()&&i(this).siblings(".login-title").removeClass("active")}),i(".login-title").on("click",function(){i(this).hasClass("active")||(i(this).addClass("active"),i(this).siblings(".input-login").focus())})}(jQuery);