"use strict";!function(a){function i(){a(".loading").toggleClass("loading-hidden"),setTimeout(function(){a(".loading").toggleClass("loading-open")},25)}function n(){a(".loading").addClass("loading-close"),setTimeout(function(){a(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function e(){i(),a.ajax({url:"/user/logincheck",type:"POST",data:a("#login").serialize()}).done(function(i){i.success?window.location.href=i.redirectUrl:(a(".warning-info").removeClass("off"),a(".warning-info").children("span").html(i.error_msg))}).always(function(){n()})}function s(i){var n="Please enter your email",e="Please enter a valid email address",s=a(".warning-info"),t=i.val(),l=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+\\.[a-zA-Z0-9_-]+$/i;return""===t?(s.removeClass("off"),s.children("span").html(n),!1):l.test(t)?(s.addClass("off"),!0):(s.removeClass("off"),s.children("span").html(e),!1)}function t(i){var n="Please enter your password",e="Oops, that's not a match.",s=a(".warning-info"),t=i.val();return""===t||void 0===t?(s.removeClass("off"),s.children("span").html(n),!1):t.length<6||t.length>32?(s.removeClass("off"),s.children("span").html(e),!1):(s.addClass("off"),!0)}a('input[name="email"]').on("keyup blur",function(){var i=a(this).val();""===i||void 0===i?a(this).siblings(".input-clear").addClass("hidden"):a(this).siblings(".input-clear").removeClass("hidden"),s(a(this))?a('div[data-role="submit"]').removeClass("disabled"):a('div[data-role="submit"]').addClass("disabled")}),a('input[name="pw"]').on("keyup blur",function(){t(a(this))?a('div[data-role="submit"]').removeClass("disabled"):a('div[data-role="submit"]').addClass("disabled")}),a('div[data-role="submit"]').on("click",function(){var i=a('input[name="email"]'),n=a('input[name="pw"]');return s(i)&&t(n)?void e():void a('div[data-role="submit"]').addClass("disabled")}),a(".input-clear").on("click",function(i){a(i.target).siblings("input").val(""),a(this).addClass("hidden")}),a(".input-show").on("click",function(i){var n=a(i.target).siblings("input");a(i.target).hasClass("off")?(n.attr("type","text"),a(i.target).removeClass("off")):(n.attr("type","password"),a(i.target).addClass("off"))})}(jQuery);