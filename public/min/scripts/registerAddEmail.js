!function(){function a(){$(".loading").toggleClass("loading-hidden"),setTimeout(function(){$(".loading").toggleClass("loading-open")},25)}function n(){$(".loading").addClass("loading-close"),setTimeout(function(){$(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function e(a){var n="Please enter your email",e="Please enter a valid email address",i=$(".warning-info"),s=a.val(),l=/^[a-z0-9]([a-z0-9]*[-_]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[\.][a-z]{2,3}([\.][a-z]{2})?$/i;return""===s?(i.removeClass("off"),i.children("span").html(n),!1):l.test(s)?(i.addClass("off"),!0):(i.removeClass("off"),i.children("span").html(e),!1)}var i={closeOnOutsideClick:!1,closeOnCancel:!1,hashTracking:!1},s=$("#successModal").remodal(i);$('input[name="email"]').on("keyup blur change",function(){e($(this))?$('div[data-role="submit"]').removeClass("disabled"):$('div[data-role="submit"]').addClass("disabled")}),$('div[data-role="submit"]').click(function(){$(this).hasClass("disabled")||(a(),$.ajax({url:"/facebooklogin",type:"post",data:{email:$('input[name="email"]'),id:$('input[name="id"]'),name:$('input[name="name"]'),avatar:$('input[name="avatar"]')}}).done(function(a){a.success?($(".warning-info").addClass("hidden-xs-up"),s.open(),$("#confirm").attr("href",a.redirectUrl)):($(".warning-info").removeClass("hidden-xs-up"),$(".warning-info").children("span").text(a.error_msg))}).always(function(){n()}))})}();