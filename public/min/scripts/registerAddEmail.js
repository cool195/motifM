"use strict";!function(a){function e(){a(".loading").toggleClass("loading-hidden"),setTimeout(function(){a(".loading").toggleClass("loading-open")},25)}function n(){a(".loading").addClass("loading-close"),setTimeout(function(){a(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function s(e){var n="Please enter your email",s="Please enter a valid email address",i=a(".warning-info"),l=e.val(),o=/^[a-z0-9]([a-z0-9]*[-_]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[\.][a-z]{2,3}([\.][a-z]{2})?$/i;return""===l?(i.removeClass("off"),i.children("span").html(n),!1):o.test(l)?(i.addClass("off"),!0):(i.removeClass("off"),i.children("span").html(s),!1)}var i={closeOnOutsideClick:!1,closeOnCancel:!1,hashTracking:!1},l=a("#successModal").remodal(i);a('input[name="email"]').on("keyup blur change",function(){s(a(this))?a('div[data-role="submit"]').removeClass("disabled"):a('div[data-role="submit"]').addClass("disabled")}),a('div[data-role="submit"]').click(function(){a(this).hasClass("disabled")||(e(),a.ajax({url:"/user/signup",type:"POST",data:a("#reset").serialize()}).done(function(e){e.success?(a(".warning-info").addClass("hidden-xs-up"),l.open(),a("#confirm").attr("href",e.redirectUrl)):(a(".warning-info").removeClass("hidden-xs-up"),a(".warning-info").children("span").text(e.error_msg))}).always(function(){n()}))})}(jQuery);