"use strict";!function(e){function i(){var i=e(".designer-placeImg"),t=new Image;t.src=i.attr("src");var o=t.width,a=t.height;g=a/o}function t(){var i=e(window).width(),t=i*g;if(e(".designer-Img").length>0){e(".designer-media").css("height",t);var o=n(),a=g.toFixed(2);l(o.ImgWidth,o.ImgHeight,o.Scale,a)}}function o(){e("#fullLoading").toggleClass("loading-hidden"),setTimeout(function(){e("#fullLoading").toggleClass("loading-open")},25)}function a(){e("#fullLoading").addClass("loading-close"),setTimeout(function(){e("#fullLoading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function n(){var i=e(".designer-realImg"),t=new Image,o={};t.src=i.attr("src");var a=t.width,n=t.height,l=(n/a).toFixed(2);return o.Scale=l,o.ImgWidth=a,o.ImgHeight=n,o}function l(i,t,o,a){var n=e(".designer-Img");n.removeClass("img-fluid");var l=e(window).width(),s=l*g;i<l&&t<s?(e(".designer-Img").removeClass("img-fluid"),e(".designer-Img").css({width:"auto"})):o===a?e(".designer-Img").addClass("img-fluid"):o>a?e(".designer-Img").css({height:"100%",width:"auto"}):o<a&&e(".designer-Img").css({height:"auto",width:"100%"})}function s(e){e.hasClass("active")?(e.html("Following"),e.toggleClass("active"),e.addClass("btn-primary").removeClass("btn-follow")):(e.html("Follow"),e.toggleClass("active"),e.addClass("btn-follow").removeClass("btn-primary"))}function d(i){o(),e.ajax({url:"/followDesigner/"+i,type:"GET"}).done(function(e){e.success&&a()}).always(function(){a()})}function r(i){var t=window.setInterval(function(){i<=1&&(e("#limited-progress").attr("value","0"),clearInterval(t));var o=0,a=0,n=0,l=0;i>0&&(o=Math.floor(i/86400),a=Math.floor(i/3600)-24*o,n=Math.floor(i/60)-24*o*60-60*a,l=Math.floor(i)-24*o*60*60-60*a*60-60*n),m<2592e5?e(".time_show").html(24*o+a+"h: "+n+"m: "+l+"s"):e(".time_show").html(o+"d: "+a+"h: "+n+"m: "+l+"s"),i--,u=1e4*(1e3*i/f).toFixed(4),e("#limited-progress").attr("value",u)},1e3)}var g="";e(window).resize(function(){t()}),e(".btn-showMore").on("click",function(){var i=e(this).siblings(".message-info");i.toggleClass("active"),i.hasClass("active")?(e(this).children(".showMore").html("Show Less"),e(this).children(".iconfont").removeClass("icon-arrow-bottom").addClass("icon-arrow-up")):(e(this).children(".showMore").html("Show More"),e(this).children(".iconfont").removeClass("icon-arrow-up").addClass("icon-arrow-bottom"))}),e(document).ready(function(){e("img.img-lazy").lazyload({threshold:200,effect:"fadeIn"}),e(".message-info").children("p").height()<=144&&e(".btn-showMore").hide()}),window.onload=function(){i(),t()},e("#follow").on("click",function(i){s(e(i.target));var t=e(this).data("followid");d(t)}),e(".followapp").on("click",function(i){s(e(i.target));var t=e(this).data("followid");d(t)});var h=e(".limited-data").data("begintime"),c=e(".limited-data").data("endtime"),m=e(".limited-data").data("lefttime"),f=parseInt(c-h),u=1e4*(m/f).toFixed(4);void 0!=h&&(m!=-1&&e(".limited-content").removeAttr("hidden"),""!=e(".limited-data").data("ship")&&(e(".limited").removeAttr("hidden"),e("#shipToDate").html(e(".limited-data").data("ship")))),e("#limited-progress").attr("value",u),m!=-1&&void 0!=h&&e(function(){r(m/1e3)})}(jQuery);