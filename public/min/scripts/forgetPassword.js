"use strict";!function(a){function n(){a(".loading").toggleClass("loading-hidden"),setTimeout(function(){a(".loading").toggleClass("loading-open")},25)}function e(){a(".loading").addClass("loading-close"),setTimeout(function(){a(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function s(n){var e="Please enter your password",s="Password needs to be at least 6 characters",i=a(".warning-info");return""===n||void 0===n?(a('div[data-role="submit"]').addClass("disabled"),i.children("span").html(e),!1):!(n.length<6||n.length>32)||(a('div[data-role="submit"]').addClass("disabled"),i.removeClass("hidden-xs-up"),i.children("span").html(s),!1)}function i(n,e){var s="New password does not match",i=a(".warning-info");return n===e||(a('div[data-role="submit"]').addClass("disabled"),i.removeClass("hidden-xs-up"),i.children("span").html(s),!1)}function d(){n(),a.ajax({type:"POST",url:"/forgetpwd",data:a("#reset").serialize()}).done(function(n){if(n.success){o.open();var e=n.redirectUrl;a("#confirmPwd").attr("href",e)}else a(".warning-info").removeClass("hidden-xs-up"),a(".warning-info").children("span").html("Oops something went wrong, please go to the sign-in page and reset your password.")}).always(function(){e()})}var o=a("#changePwdDialog").remodal({closeOnOutsideClick:!1,hashTracking:!1});a('input[type="password"]').on("keyup",function(n){var e=a('input[name="pw"]').val(),d=a('input[name="lastpw"]').val(),o=s(a(n.target).val());if(""!==e&&void 0!==e&&""!==d&&void 0!==e)var t=i(e,d);o&&t&&(a('[data-role="submit"]').removeClass("disabled"),a(".warning-info").addClass("hidden-xs-up"))}),a('[data-role="submit"]').on("click",function(n){a(n.target).hasClass("disabled")||d()})}(jQuery);