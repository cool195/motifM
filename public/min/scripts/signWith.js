!function(){function o(){$(".loading").toggleClass("loading-hidden"),setTimeout(function(){$(".loading").toggleClass("loading-open")},25)}function n(o){console.log(o.id),l.attachClickHandler(o,{},function(o){var n=o.getBasicProfile();$.ajax({url:"/googlelogin",type:"POST",data:{email:n.getEmail(),id:n.getId(),name:n.getName(),avatar:n.getImageUrl()}}).done(function(o){console.log("success"),o.success?window.location.href=o.redirectUrl:($(".warning-info").removeClass("off"),$(".warning-info").children("span").html(o.prompt_msg))}).fail(function(){console.log("error")}).always(function(){console.log("complete")})},function(o){console.error(JSON.stringify(o,void 0,2))})}function e(o){console.log("statusChangeCallback"),console.log(o),"connected"===o.status?i():"not_authorized"===o.status}function i(){FB.api("/me","GET",{fields:"id,name,picture.width(750).height(750),email"},function(o){""==o.email||void 0==o.email?$.ajax({url:"/facebookstatus/"+o.id,type:"get"}).done(function(n){n.status?(o.email=n.data.email,t(o)):window.location.href="/addFacebookEmail?id="+o.id+"&name="+o.name}):t(o)})}function t(o){$.ajax({url:"/facebooklogin",type:"POST",data:{email:o.email,id:o.id,name:o.name,avatar:o.picture.data.url}}).done(function(o){o.success?window.location.href=o.redirectUrl:($(".warning-info").removeClass("off"),$(".warning-info").children("span").html(o.prompt_msg))})}var a="21307862595-iabkmrtg7r2ioq6qmu1e81de66thp4p2.apps.googleusercontent.com",l={},c=function(){gapi.load("auth2",function(){l=gapi.auth2.init({client_id:a,cookiepolicy:"single_host_origin"}),n(document.getElementById("googleLogin"))})};c(),window.fbAsyncInit=function(){FB.init({appId:"270298046670851",cookie:!1,status:!1,xfbml:!1,logging:!1,frictionlessRequests:!0,oauth:!0,version:"v2.6"})},function(o,n,e){var i,t=o.getElementsByTagName(n)[0];o.getElementById(e)||(i=o.createElement(n),i.id=e,i.src="//connect.facebook.net/en_US/sdk.js",t.parentNode.insertBefore(i,t))}(document,"script","facebook-jssdk"),$("#facebookLogin").click(function(){o(),FB.login(function(o){e(o)},{scope:"public_profile,email"})}),$("#googleLogin").click(function(){o()})}();