"use strict";!function(a){function n(){a(".loading").toggleClass("loading-hidden"),setTimeout(function(){a(".loading").toggleClass("loading-open")},25)}function e(){a(".loading").addClass("loading-close"),setTimeout(function(){a(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function s(n){var e="Please enter your password",s="Password needs to be at least 6 characters",o=a(".warning-info");return""===n||void 0===n?(a('div[data-role="submit"]').addClass("disabled"),o.removeClass("off"),o.children("span").html(e),!1):n.length<6||n.length>32?(a('div[data-role="submit"]').addClass("disabled"),o.removeClass("off"),o.children("span").html(s),!1):(o.addClass("off"),!0)}function o(n,e){var s="New password does not match",o=a(".warning-info");return n!==e?(a('div[data-role="submit"]').addClass("disabled"),o.removeClass("off"),o.children("span").html(s),!1):(o.addClass("off"),!0)}function i(){var n=a('input[name="oldpw"]').val(),e=a('input[name="pw"]').val(),i=a('input[data-role="confirmPwd"]').val();s(n)&&s(e)&&s(i)&&o(e,i)&&a('div[data-role="submit"]').removeClass("disabled")}function d(){n(),a.ajax({url:"/user/modifyUserPwd",type:"POST",data:a("#changePassword").serialize()}).done(function(n){if(n.success){l.open();var e=n.redirectUrl;a("#confirmPwd").attr("href",e)}else a(".warning-info").removeClass("off"),a(".warning-info").children("span").html(n.prompt_msg)}).always(function(){e()})}a('input[type="password"]').on("keyup",function(){i()}),a('div[data-role="submit"]').on("click",function(n){a(n.target).hasClass("disabled")||d()});var l=a("#changePwdDialog").remodal({closeOnOutsideClick:!1,hashTracking:!1})}(jQuery);