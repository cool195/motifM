"use strict";!function(o){function a(){o(".loading").toggleClass("loading-hidden"),setTimeout(function(){o(".loading").toggleClass("loading-open")},25)}function i(){o(".loading").addClass("loading-close"),setTimeout(function(){o(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}o("img.img-lazy").lazyload({threshold:200,effect:"fadeIn"});var t={hashTracking:!1};o("[data-remodal-id=delivery-modal]").remodal(t);var n="",e=o("#deliveryDialog");o("[data-stype]").on("click",function(){o("#deliveryDialog").find(".icon-radio").removeClass("active"),o(this).children(".icon-radio").addClass("active"),n=o(this).data("stype")}),e.on("opening",function(){n=o(this).data("select"),o(this).find(".icon-radio").removeClass("active"),o('[data-stype="'+n+'"]').children(".icon-radio").addClass("active")}),e.on("confirmation",function(){var a=o('[data-stype="'+n+'"]').data("dialog");o(".delivery-text").text(a),o("#deliveryDialog").data("select",n),o('input[name="stype"]').val(n),o("#infoForm").attr("action",window.location.href),o("#infoForm").submit()}),o("[data-form-action]").on("click",function(){var a=o(this).data("form-action");o("#infoForm").attr("action",a),o("#infoForm").submit()}),o('[data-role="submit"]').on("click",function(){onCheckout(),o(this).hasClass("disabled")||(o('input[name="paym"]').val(o(this).data("with")),a(),o.ajax({url:"/order/orderSubmit",type:"POST",data:o("#infoForm").serialize()}).done(function(o){o.success?window.location.href=o.redirectUrl:(alert(o.error_msg),window.location.href=o.redirectUrl)}).fail(function(){console.log("error")}).always(function(){i(),console.log("complete")}))})}(jQuery);