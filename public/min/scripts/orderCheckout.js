"use strict";!function(o){function i(){o(".loading").toggleClass("loading-hidden"),setTimeout(function(){o(".loading").toggleClass("loading-open")},25)}function a(){o(".loading").addClass("loading-close"),setTimeout(function(){o(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}o("img.img-lazy").lazyload({threshold:200,effect:"fadeIn"});var e={hashTracking:!1};o("[data-remodal-id=delivery-modal]").remodal(e);var n="",t=o("#deliveryDialog");o("[data-stype]").on("click",function(){o("#deliveryDialog").find(".icon-radio").removeClass("active"),o(this).children(".icon-radio").addClass("active"),n=o(this).data("stype")}),t.on("opening",function(){n=o(this).data("select"),o(this).find(".icon-radio").removeClass("active"),o('[data-stype="'+n+'"]').children(".icon-radio").addClass("active")}),t.on("confirmation",function(){var i=o('[data-stype="'+n+'"]').data("dialog");o(".delivery-text").text(i),o("#deliveryDialog").data("select",n),o('input[name="stype"]').val(n),o("#infoForm").attr("action",window.location.href),o("#infoForm").submit()}),o("[data-form-action]").on("click",function(){var i=o(this).data("form-action");o("#infoForm").attr("action",i),o("#infoForm").submit()}),o('[data-role="submit"]').on("click",function(){onCheckout(),o(this).hasClass("disabled")||(i(),o.ajax({url:"/order/orderSubmit",type:"POST",data:o("#infoForm").serialize()}).done(function(o){o.success?(console.log("success"),window.location.href=o.redirectUrl):(alert(o.error_msg),window.location.href=o.redirectUrl)}).fail(function(){console.log("error")}).always(function(){a(),console.log("complete")}))})}(jQuery);