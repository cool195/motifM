"use strict";!function(a){function i(){a(".loading").toggleClass("loading-hidden"),setTimeout(function(){a(".loading").toggleClass("loading-open")},25)}function n(){a(".loading").addClass("loading-close"),setTimeout(function(){a(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function o(o){i(),a.ajax({url:"/cart/verifycoupon",type:"POST",data:{couponcode:o}}).done(function(i){0==i.code?(a('input[name="bindid"]').val(i.data.bind_id),a("#infoForm").submit()):(a(".warning-info").removeAttr("hidden"),i.prompt_msg=""==i.prompt_msg?"Invalid code":i.prompt_msg,a(".warning-info").children("span").text(i.prompt_msg))}).always(function(){n()})}a('input[name="coupon"]').on("keyup",function(i){""===a(this).val()?a('div[data-role="submit"]').addClass("disabled"):a('div[data-role="submit"]').removeClass("disabled")}),a('input[name="coupon"]').on("paste",function(i){var n=void 0;n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):i.originalEvent.clipboardData.getData("Text"),""===n||void 0===n?a('div[data-role="submit"]').addClass("disabled"):a('div[data-role="submit"]').removeClass("disabled")}),a('div[data-role="submit"]').on("click",function(i){if(!a(i.target).hasClass("disabled")){var n=a('input[name="coupon"]').val();o(n)}}),a(".bindidcode").on("click",function(i){a('input[name="bindid"]').val(a(this).data("bindid")),a("#infoForm").submit()})}(jQuery);