"use strict";!function(a,n){function e(n,e){r.slideTo(n,e,!1),u.slideTo(n,e,!1),a(r.slides).children("a").addClass("inactive"),a(r.slides[n]).children("a").removeClass("inactive")}function i(){var n=u.activeIndex,e=a(u.slides[n]);e.css({height:"auto"});var i=e.children(".container-fluid").height();console.info(i),e.siblings(".swiper-slide").height(i)}function t(n){a(u.slides[n]).find(".loading").show()}function o(n){a(u.slides[n]).find(".loading").hide()}function d(){var n=u.activeIndex,e=a(u.slides[n]),i=a(r.slides[n]),d=e.data("pagenum");if(d!==-1&&e.data("loading")!==!0){e.data("loading",!0);var l=++d,s=i.data("tab-index");t(n),a.ajax({url:"/products",data:{pagenum:l,pagesize:20,cid:s}}).done(function(i){i.success&&(null===i.data||""===i.data||0===i.data.list.length?e.data("pagenum",-1):(c(i.data,n),e.data("pagenum",d),a.ajax({url:i.data.impr}),a("img.img-lazy").lazyload({threshold:200,container:a("#tabs-container"),effect:"fadeIn"})))}).always(function(){o(n),e.data("loading",!1)})}}function l(){var n=location.hash;if(""!==n&&null!==n){n=n.substring(1);var i=a("#"+n).index();i>=0&&e(i,0)}}function s(){var n=window.pageYOffset,e=a(document).height()-a(window).height();n!==e&&e<=300+n&&d()}function c(n,e){var i=template("tpl-product",n),t=a.parseHTML(i);a(u.slides[e]).find(".row").append(t)}var r=new n("#tabIndex-container",{freeMode:!0,slidesPerView:"auto",freeModeMomentumRatio:.5}),u=new n("#tabs-container",{onlyExternal:!0});a("#header").headroom({tolerance:.5,offset:44,classes:{top:"animated",notTop:"animated",bottom:"animated",notBottom:"animated",initial:"animated",pinned:"slideInDown",unpinned:"slideOutUp"}}),a("#tabIndex-container").headroom({tolerance:.5,offset:44,classes:{top:"animated",notTop:"animated",bottom:"animated",notBottom:"animated",initial:"animated",pinned:"tabIndexDown",unpinned:"tabIndexUp"}}),a("#tabIndex-container").on("click",".nav-item",function(){e(r.clickedIndex,500),d(),i()});var m={hashTracking:!1};a("[data-remodal-id=download-modal]").remodal(m),function(){l(),d()}(),a("#tabIndex-container").find("li[data-tab-index]").one("click",function(){console.log("一次性事件"),a("body").animate({scrollTop:0},200)}),a(document).ready(function(){a(window).scroll(function(){a("img.img-lazy").each(function(){var n=a(this).attr("src"),e=a(this).attr("data-original");n===e&&a(this).removeClass("img-lazy")}),s(),console.log("滚动条滚动")})})}(jQuery,Swiper);