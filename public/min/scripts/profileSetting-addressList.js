"use strict";!function(a){function t(t){t.hasClass("active")?(t.html("Edit"),t.toggleClass("active"),t.addClass("btn-primary-outline").removeClass("btn-primary"),a('div[data-role="submit"]').removeClass("hidden")):(t.html("Done"),t.toggleClass("active"),t.addClass("btn-primary").removeClass("btn-primary-outline"),a('div[data-role="submit"]').addClass("hidden"))}function i(t){var i=a(".addressItem-info").find(".iconfont");t.hasClass("active")?i.removeClass("icon-arrow-right"):i.addClass("icon-arrow-right")}function o(t){var i=a(".addressItem-info");t.hasClass("active")?a.each(i,function(t,i){var o=a(i).data("url-return");a(i).attr("data-action",o)}):a.each(i,function(t,i){var o=a(i).data("url-edit");a(i).attr("data-action",o)})}function n(){a(".loading").toggleClass("loading-hidden"),setTimeout(function(){a(".loading").toggleClass("loading-open")},25)}function s(){a(".loading").addClass("loading-close"),setTimeout(function(){a(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function d(t){n(),a.ajax({url:"/addresses",type:"DELETE",data:{aid:t}}).done(function(a){a.success&&location.reload()}).always(function(){s()})}a("#address-edit").on("click",function(n){i(a(n.target)),o(a(n.target)),t(a(n.target)),a(".addressList-delete").toggleClass("switch")}),a(".addressList-delete").on("click",function(t){var i=a(t.target).parents(".addressList-container").data("aid");a("#modalDialog").data("aid",i)}),a(".addressItem-info").on("click",function(){var t=a(this).data("action");"return"!==t&&"edit"===t&&(window.location.href=a(this).data("url"))}),a('div[data-role="submit"]').on("click",function(){}),a("#modalDialog").remodal({closeOnOutsideClick:!1,hashTracking:!1}),a("#modalDialog").on("closed",function(){a(this).removeData("address")}),a("#modalDialog").on("confirmation",function(){var t=a(this).data("aid");void 0!==t&&null!==t&&""!==t&&d(t)})}(jQuery);