"use strict";!function(a){function s(){a(".loading").toggleClass("loading-hidden"),setTimeout(function(){a(".loading").toggleClass("loading-open")},25)}function e(){a(".loading").addClass("loading-close"),setTimeout(function(){a(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function i(s){var e="Please enter your nick name",i=s.val(),n=a(".warning-info");return""===i||void 0===i?(n.removeClass("off"),n.children("span").html(e),a('div[data-role="submit"]').addClass("disabled"),!1):(n.addClass("off"),!0)}function n(s){var e="Please enter your email",i="Please enter a valid email address",n=a(".warning-info"),l=s.val(),t=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+\\.[a-zA-Z0-9_-]+$/i;return""===l||void 0===l?(n.removeClass("off"),n.children("span").html(e),a('div[data-role="submit"]').addClass("disabled"),!1):t.test(l)?(n.addClass("off"),!0):(n.removeClass("off"),n.children("span").html(i),a('div[data-role="submit"]').addClass("disabled"),!1)}function l(s){var e="Please enter your password",i="Password (6 characters min)",n=a(".warning-info"),l=s.val();return""===l||void 0===l?(n.removeClass("off"),n.children("span").html(e),a('div[data-role="submit"]').addClass("disabled"),!1):l.length<6||l.length>32?(n.removeClass("off"),n.children("span").html(i),a('div[data-role="submit"]').addClass("disabled"),!1):(n.addClass("off"),!0)}function t(){var s=a('input[name="nick"]'),e=a('input[name="email"]'),t=a('input[name="pw"]');i(s)&&n(e)&&l(t)&&a('div[data-role="submit"]').removeClass("disabled")}function d(){s(),a.ajax({url:"/user/signup",type:"POST",data:a("#register").serialize()}).done(function(s){s.success?(o.open(),a("#confirm").attr("href",s.redirectUrl)):(a(".warning-info").removeClass("off"),a(".warning-info").children("span").html(s.prompt_msg))}).always(function(){e()})}var o=a("#successDialog").remodal({closeOnOutsideClick:!1,hashTracking:!1});a(".input-register").on("keyup",function(){var s=a(this).val();""===s||void 0===s?a(this).siblings(".input-clear").addClass("hidden"):a(this).siblings(".input-clear").removeClass("hidden"),t()}),a('div[data-role="submit"]').on("click",function(s){a(s.target).hasClass("disabled")||d()}),a(".input-clear").on("click",function(s){a(s.target).siblings("input").val(""),a(this).addClass("hidden"),t()}),a(".input-show").on("click",function(s){var e=a(s.target).siblings("input");a(s.target).hasClass("off")?(e.attr("type","text"),a(s.target).removeClass("off")):(e.attr("type","password"),a(s.target).addClass("off"))})}(jQuery);