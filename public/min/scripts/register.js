"use strict";!function(a){function e(){a(".loading").toggleClass("loading-hidden"),setTimeout(function(){a(".loading").toggleClass("loading-open")},25)}function i(){a(".loading").addClass("loading-close"),setTimeout(function(){a(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function s(e){var i="Please enter your nick name",s=e.val(),n=a(".warning-info");return""===s||void 0===s?(n.removeClass("off"),n.children("span").html(i),a('div[data-role="submit"]').addClass("disabled"),!1):(n.addClass("off"),!0)}function n(e){var i="Please enter your email",s="Please enter a valid email address",n=a(".warning-info"),t=e.val(),l=/^[\.a-zA-Z0-9_-]+@([a-z0-9]*[-_]?[a-z0-9]+)+[\.][a-z]{2,3}([\.][a-z]{2})?$/i;return""===t||void 0===t?(n.removeClass("off"),n.children("span").html(i),a('div[data-role="submit"]').addClass("disabled"),!1):l.test(t)?(n.addClass("off"),!0):(n.removeClass("off"),n.children("span").html(s),a('div[data-role="submit"]').addClass("disabled"),!1)}function t(e){var i="Please enter your password",s="Password (6 characters min)",n=a(".warning-info"),t=e.val();return""===t||void 0===t?(n.removeClass("off"),n.children("span").html(i),a('div[data-role="submit"]').addClass("disabled"),!1):t.length<6||t.length>32?(n.removeClass("off"),n.children("span").html(s),a('div[data-role="submit"]').addClass("disabled"),!1):(n.addClass("off"),!0)}function l(){var e=a('input[name="nick"]'),i=a('input[name="email"]'),l=a('input[name="pw"]');s(e)&&n(i)&&t(l)&&a('div[data-role="submit"]').removeClass("disabled")}function r(){e(),a.ajax({url:"/user/signup",type:"POST",data:a("#register").serialize()}).done(function(e){e.success?(o.open(),a("#confirm").attr("href",e.redirectUrl)):(a(".warning-info").removeClass("off"),a(".warning-info").children("span").html(e.prompt_msg))}).always(function(){i()})}var o=a("#successDialog").remodal({closeOnOutsideClick:!1,hashTracking:!1});a(".input-register").on("keyup",function(){var e=a(this).val();""===e||void 0===e?a(this).siblings(".input-clear").addClass("hidden"):a(this).siblings(".input-clear").removeClass("hidden"),l()}),a('div[data-role="submit"]').on("click",function(e){a(e.target).hasClass("disabled")||r()}),a(".input-clear").on("click",function(e){a(e.target).siblings("input").val(""),a(e.target).siblings(".register-title").removeClass("active"),a(this).addClass("hidden"),l()}),a(".input-show").on("click",function(e){var i=a(e.target).siblings("input");a(e.target).hasClass("off")?(i.attr("type","text"),a(e.target).removeClass("off")):(i.attr("type","password"),a(e.target).addClass("off"))}),a(function(){var e=setTimeout(function(){""!=a('[name="email"]').val&&(a('[name="email"]').siblings(".register-title").addClass("active"),a('[name="pw"]').siblings(".register-title").addClass("active"),clearTimeout(e))},1e3)}),a(".input-register").on("focus",function(){a(this).siblings(".register-title").addClass("active")}),a(".input-register").on("blur",function(){""===a(this).val()&&a(this).siblings(".register-title").removeClass("active")})}(jQuery);