"use strict";!function(n){function a(n){n.hasClass("active")?(n.html("Edit"),n.toggleClass("active"),n.addClass("btn-primary-outline").removeClass("btn-primary")):(n.html("Done"),n.toggleClass("active"),n.addClass("btn-primary").removeClass("btn-primary-outline"))}function e(){n(".loading").toggleClass("loading-hidden"),setTimeout(function(){n(".loading").toggleClass("loading-open")},25)}function t(){n(".loading").addClass("loading-close"),setTimeout(function(){n(".loading").toggleClass("loading-hidden loading-open").removeClass("loading-close")},500)}function o(a){e(),n.ajax({url:" /braintree",type:"DELETE",data:{methodtoken:a}}).done(function(n){n.success&&(window.location.href=n.redirectUrl)}).always(function(){t()})}n("#payment-edit").on("click",function(e){a(n(e.target)),n(".payment-delete").toggleClass("switch")});var i=n("#paypal").data("braintree"),l={};""!==i&&void 0!==i&&braintree.setup(i,"custom",{paypal:{currency:"USD",locale:"en_us",headless:!0},onReady:function(n){l=n},onPaymentMethodReceived:function(a){e(),n.ajax({url:"/braintree",type:"POST",data:{nonce:a.nonce}}).done(function(n){n.success&&(window.location.href=n.redirectUrl)}).always(function(){t()})}}),n("#paypal").on("click",function(n){n.preventDefault(),l.paypal.initAuthFlow()}),n(".payment-delete").on("click",function(a){var e=n(a.target).parents(".payment-item").data("token");n("#modalDialog").data("token",e)}),n("#modalDialog").remodal({closeOnOutsideClick:!1,hashTracking:!1}),n("#modalDialog").on("closed",function(){n(this).removeData("token")}),n("#modalDialog").on("confirmation",function(){var a=n(this).data("token");void 0!==a&&null!==a&&""!==a&&o(a)})}(jQuery);